var R,f,le,Ue,E,ne,se,q,ue,J,j,z,Le,U={},ce=[],Me=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,G=Array.isArray;function x(t,e){for(var _ in e)t[_]=e[_];return t}function K(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function N(t,e,_){var o,i,r,l={};for(r in e)r=="key"?o=e[r]:r=="ref"?i=e[r]:l[r]=e[r];if(arguments.length>2&&(l.children=arguments.length>3?R.call(arguments,2):_),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)l[r]===void 0&&(l[r]=t.defaultProps[r]);return F(t,l,o,i,null)}function F(t,e,_,o,i){var r={type:t,props:e,key:_,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++le,__i:-1,__u:0};return i==null&&f.vnode!=null&&f.vnode(r),r}function W(t){return t.children}function A(t,e){this.props=t,this.context=e}function D(t,e){if(e==null)return t.__?D(t.__,t.__i+1):null;for(var _;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null)return _.__e;return typeof t.type=="function"?D(t):null}function ae(t){var e,_;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null){t.__e=t.__c.base=_.__e;break}return ae(t)}}function oe(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!I.__r++||ne!==f.debounceRendering)&&((ne=f.debounceRendering)||se)(I)}function I(){var t,e,_,o,i,r,l,s;for(E.sort(q);t=E.shift();)t.__d&&(e=E.length,o=void 0,r=(i=(_=t).__v).__e,l=[],s=[],_.__P&&((o=x({},i)).__v=i.__v+1,f.vnode&&f.vnode(o),Q(_.__P,o,i,_.__n,_.__P.namespaceURI,32&i.__u?[r]:null,l,r??D(i),!!(32&i.__u),s),o.__v=i.__v,o.__.__k[o.__i]=o,pe(l,o,s),o.__e!=r&&ae(o)),E.length>e&&E.sort(q));I.__r=0}function fe(t,e,_,o,i,r,l,s,c,u,d){var n,h,a,g,k,y,p=o&&o.__k||ce,m=e.length;for(c=Te(_,e,p,c,m),n=0;n<m;n++)(a=_.__k[n])!=null&&(h=a.__i===-1?U:p[a.__i]||U,a.__i=n,y=Q(t,a,h,i,r,l,s,c,u,d),g=a.__e,a.ref&&h.ref!=a.ref&&(h.ref&&X(h.ref,null,a),d.push(a.ref,a.__c||g,a)),k==null&&g!=null&&(k=g),4&a.__u||h.__k===a.__k?c=de(a,c,t):typeof a.type=="function"&&y!==void 0?c=y:g&&(c=g.nextSibling),a.__u&=-7);return _.__e=k,c}function Te(t,e,_,o,i){var r,l,s,c,u,d=_.length,n=d,h=0;for(t.__k=new Array(i),r=0;r<i;r++)(l=e[r])!=null&&typeof l!="boolean"&&typeof l!="function"?(c=r+h,(l=t.__k[r]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?F(null,l,null,null,null):G(l)?F(W,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?F(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,s=null,(u=l.__i=Fe(l,_,c,n))!==-1&&(n--,(s=_[u])&&(s.__u|=2)),s==null||s.__v===null?(u==-1&&h--,typeof l.type!="function"&&(l.__u|=4)):u!=c&&(u==c-1?h--:u==c+1?h++:(u>c?h--:h++,l.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<d;r++)(s=_[r])!=null&&!(2&s.__u)&&(s.__e==o&&(o=D(s)),me(s,s));return o}function de(t,e,_){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=de(o[i],e,_));return e}t.__e!=e&&(e&&t.type&&!_.contains(e)&&(e=D(t)),_.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Fe(t,e,_,o){var i,r,l=t.key,s=t.type,c=e[_];if(c===null||c&&l==c.key&&s===c.type&&!(2&c.__u))return _;if(o>(c!=null&&!(2&c.__u)?1:0))for(i=_-1,r=_+1;i>=0||r<e.length;){if(i>=0){if((c=e[i])&&!(2&c.__u)&&l==c.key&&s===c.type)return i;i--}if(r<e.length){if((c=e[r])&&!(2&c.__u)&&l==c.key&&s===c.type)return r;r++}}return-1}function re(t,e,_){e[0]=="-"?t.setProperty(e,_??""):t[e]=_==null?"":typeof _!="number"||Me.test(e)?_:_+"px"}function T(t,e,_,o,i){var r;e:if(e=="style")if(typeof _=="string")t.style.cssText=_;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)_&&e in _||re(t.style,e,"");if(_)for(e in _)o&&_[e]===o[e]||re(t.style,e,_[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(ue,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=_,_?o?_.u=o.u:(_.u=J,t.addEventListener(e,r?z:j,r)):t.removeEventListener(e,r?z:j,r);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&_==1?"":_))}}function ie(t){return function(e){if(this.l){var _=this.l[e.type+t];if(e.t==null)e.t=J++;else if(e.t<_.u)return;return _(f.event?f.event(e):e)}}}function Q(t,e,_,o,i,r,l,s,c,u){var d,n,h,a,g,k,y,p,m,P,C,L,H,_e,M,O,B,w=e.type;if(e.constructor!==void 0)return null;128&_.__u&&(c=!!(32&_.__u),r=[s=e.__e=_.__e]),(d=f.__b)&&d(e);e:if(typeof w=="function")try{if(p=e.props,m="prototype"in w&&w.prototype.render,P=(d=w.contextType)&&o[d.__c],C=d?P?P.props.value:d.__:o,_.__c?y=(n=e.__c=_.__c).__=n.__E:(m?e.__c=n=new w(p,C):(e.__c=n=new A(p,C),n.constructor=w,n.render=Ie),P&&P.sub(n),n.props=p,n.state||(n.state={}),n.context=C,n.__n=o,h=n.__d=!0,n.__h=[],n._sb=[]),m&&n.__s==null&&(n.__s=n.state),m&&w.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=x({},n.__s)),x(n.__s,w.getDerivedStateFromProps(p,n.__s))),a=n.props,g=n.state,n.__v=e,h)m&&w.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),m&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(m&&w.getDerivedStateFromProps==null&&p!==a&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(p,C),!n.__e&&(n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(p,n.__s,C)===!1||e.__v==_.__v)){for(e.__v!=_.__v&&(n.props=p,n.state=n.__s,n.__d=!1),e.__e=_.__e,e.__k=_.__k,e.__k.some(function(S){S&&(S.__=e)}),L=0;L<n._sb.length;L++)n.__h.push(n._sb[L]);n._sb=[],n.__h.length&&l.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(p,n.__s,C),m&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(a,g,k)})}if(n.context=C,n.props=p,n.__P=t,n.__e=!1,H=f.__r,_e=0,m){for(n.state=n.__s,n.__d=!1,H&&H(e),d=n.render(n.props,n.state,n.context),M=0;M<n._sb.length;M++)n.__h.push(n._sb[M]);n._sb=[]}else do n.__d=!1,H&&H(e),d=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++_e<25);n.state=n.__s,n.getChildContext!=null&&(o=x(x({},o),n.getChildContext())),m&&!h&&n.getSnapshotBeforeUpdate!=null&&(k=n.getSnapshotBeforeUpdate(a,g)),s=fe(t,G(O=d!=null&&d.type===W&&d.key==null?d.props.children:d)?O:[O],e,_,o,i,r,l,s,c,u),n.base=e.__e,e.__u&=-161,n.__h.length&&l.push(n),y&&(n.__E=n.__=null)}catch(S){if(e.__v=null,c||r!=null)if(S.then){for(e.__u|=c?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;r[r.indexOf(s)]=null,e.__e=s}else for(B=r.length;B--;)K(r[B]);else e.__e=_.__e,e.__k=_.__k;f.__e(S,e,_)}else r==null&&e.__v==_.__v?(e.__k=_.__k,e.__e=_.__e):s=e.__e=Ae(_.__e,e,_,o,i,r,l,c,u);return(d=f.diffed)&&d(e),128&e.__u?void 0:s}function pe(t,e,_){for(var o=0;o<_.length;o++)X(_[o],_[++o],_[++o]);f.__c&&f.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){f.__e(r,i.__v)}})}function Ae(t,e,_,o,i,r,l,s,c){var u,d,n,h,a,g,k,y=_.props,p=e.props,m=e.type;if(m=="svg"?i="http://www.w3.org/2000/svg":m=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((a=r[u])&&"setAttribute"in a==!!m&&(m?a.localName==m:a.nodeType==3)){t=a,r[u]=null;break}}if(t==null){if(m==null)return document.createTextNode(p);t=document.createElementNS(i,m,p.is&&p),s&&(f.__m&&f.__m(e,r),s=!1),r=null}if(m===null)y===p||s&&t.data===p||(t.data=p);else{if(r=r&&R.call(t.childNodes),y=_.props||U,!s&&r!=null)for(y={},u=0;u<t.attributes.length;u++)y[(a=t.attributes[u]).name]=a.value;for(u in y)if(a=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")n=a;else if(!(u in p)){if(u=="value"&&"defaultValue"in p||u=="checked"&&"defaultChecked"in p)continue;T(t,u,null,a,i)}}for(u in p)a=p[u],u=="children"?h=a:u=="dangerouslySetInnerHTML"?d=a:u=="value"?g=a:u=="checked"?k=a:s&&typeof a!="function"||y[u]===a||T(t,u,a,y[u],i);if(d)s||n&&(d.__html===n.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(n&&(t.innerHTML=""),fe(t,G(h)?h:[h],e,_,o,m=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,l,r?r[0]:_.__k&&D(_,0),s,c),r!=null)for(u=r.length;u--;)K(r[u]);s||(u="value",m=="progress"&&g==null?t.removeAttribute("value"):g!==void 0&&(g!==t[u]||m=="progress"&&!g||m=="option"&&g!==y[u])&&T(t,u,g,y[u],i),u="checked",k!==void 0&&k!==t[u]&&T(t,u,k,y[u],i))}return t}function X(t,e,_){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(i){f.__e(i,_)}}function me(t,e,_){var o,i;if(f.unmount&&f.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||X(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){f.__e(r,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&me(o[i],e,_||typeof t.type!="function");_||K(t.__e),t.__c=t.__=t.__e=void 0}function Ie(t,e,_){return this.constructor(t,_)}function he(t,e,_){var o,i,r,l;e==document&&(e=document.documentElement),f.__&&f.__(t,e),i=(o=typeof _=="function")?null:_&&_.__k||e.__k,r=[],l=[],Q(e,t=(!o&&_||e).__k=N(W,null,[t]),i||U,U,e.namespaceURI,!o&&_?[_]:i?null:e.firstChild?R.call(e.childNodes):null,r,!o&&_?_:i?i.__e:e.firstChild,o,l),pe(r,t,l)}R=ce.slice,f={__e:function(t,e,_,o){for(var i,r,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,o||{}),l=i.__d),l)return i.__E=i}catch(s){t=s}throw t}},le=0,Ue=function(t){return t!=null&&t.constructor==null},A.prototype.setState=function(t,e){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=x({},this.state),typeof t=="function"&&(t=t(x({},_),this.props)),t&&x(_,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},A.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},A.prototype.render=W,E=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},I.__r=0,ue=/(PointerCapture)$|Capture$/i,J=0,j=ie(!1),z=ie(!0),Le=0;var V,b,Y,ve,Z=0,Ee=[],v=f,ge=v.__b,ye=v.__r,be=v.diffed,ke=v.__c,we=v.unmount,Ce=v.__;function De(t,e){v.__h&&v.__h(b,t,Z||e),Z=0;var _=b.__H||(b.__H={__:[],__h:[]});return t>=_.__.length&&_.__.push({}),_.__[t]}function te(t,e){var _=De(V++,3);!v.__s&&Pe(_.__H,e)&&(_.__=t,_.i=e,b.__H.__h.push(_))}function Ne(t){return Z=5,Re(function(){return{current:t}},[])}function Re(t,e){var _=De(V++,7);return Pe(_.__H,e)&&(_.__=t(),_.__H=e,_.__h=t),_.__}function We(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach($),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],v.__e(e,t.__v)}}v.__b=function(t){b=null,ge&&ge(t)},v.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ce&&Ce(t,e)},v.__r=function(t){ye&&ye(t),V=0;var e=(b=t.__c).__H;e&&(Y===b?(e.__h=[],b.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.i=_.__N=void 0})):(e.__h.forEach($),e.__h.forEach(ee),e.__h=[],V=0)),Y=b},v.diffed=function(t){be&&be(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ve===v.requestAnimationFrame||((ve=v.requestAnimationFrame)||$e)(We)),e.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.i=void 0})),Y=b=null},v.__c=function(t,e){e.some(function(_){try{_.__h.forEach($),_.__h=_.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],v.__e(o,_.__v)}}),ke&&ke(t,e)},v.unmount=function(t){we&&we(t);var e,_=t.__c;_&&_.__H&&(_.__H.__.forEach(function(o){try{$(o)}catch(i){e=i}}),_.__H=void 0,e&&v.__e(e,_.__v))};var xe=typeof requestAnimationFrame=="function";function $e(t){var e,_=function(){clearTimeout(o),xe&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(_,100);xe&&(e=requestAnimationFrame(_))}function $(t){var e=b,_=t.__c;typeof _=="function"&&(t.__c=void 0,_()),b=e}function ee(t){var e=b;t.__c=t.__(),b=e}function Pe(t,e){return!t||t.length!==e.length||e.some(function(_,o){return _!==t[o]})}var Ve=0;function Oe(t,e,_,o,i,r){e||(e={});var l,s,c=e;if("ref"in c)for(s in c={},e)s=="ref"?l=e[s]:c[s]=e[s];var u={type:t,props:c,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ve,__i:-1,__u:0,__source:i,__self:r};return f.vnode&&f.vnode(u),u}function He(t){let e=Ne(null);function _(){let i=t.host||"https://app.documenso.com",r=btoa(encodeURIComponent(JSON.stringify({name:t.name,lockName:t.lockName,css:t.css,cssVars:t.cssVars,darkModeDisabled:t.darkModeDisabled})));return`${new URL(`/embed/sign/${t.token}`,i)}#${r}`}function o(i){var r,l,s,c;if(((r=e.current)==null?void 0:r.contentWindow)===i.source)switch(i.data.action){case"document-ready":(l=t.onDocumentReady)==null||l.call(t);break;case"document-completed":(s=t.onDocumentCompleted)==null||s.call(t,i.data.data);break;case"document-error":(c=t.onDocumentError)==null||c.call(t,i.data.data);break}}return te(()=>{window.addEventListener("message",o)},[]),te(()=>()=>{window.removeEventListener("message",o)},[]),Oe("iframe",{ref:e,className:t.className,src:_()})}var Be=({token:t,name:e,email:_,cssVars:o})=>t?N(He,{host:"https://sign.loopdash.com",token:t,name:e,email:_,lockEmail:"false",customCss:`
    .documenso-embed {
      border-radius: 200px;
      box-shadow: 0 12px 4px rgba(0,0,0,0.9);
    }
  `,cssVars:o}):N("p",null,"Loading document..."),Se=Be;document.addEventListener("DOMContentLoaded",()=>{console.log("\u2705 client.js is executing!");let t=document.getElementById("documenso-embed");if(t){console.log("\u2705 Found #documenso-embed! Mounting Preact...");let e=t.getAttribute("data-token"),_=t.getAttribute("data-name")||null,o=t.getAttribute("data-email")||null;e?(console.error("\u274C No signing token found in data-token attribute!"),he(N(Se,{token:e,name:_,email:o}),t)):console.error("\u274C No signing token found in data-token attribute!")}else console.error("\u274C #documenso-embed not found in the DOM!")});
